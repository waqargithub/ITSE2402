<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Coast City Windsurfing</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    
    <script type="text/javascript">
    /* <![CDATA[ */
    
    var dateObject = new Date();
    var month = dateObject.getMonth();
    var monthArray = new Array("January","February","March","April","May","June","July","August","September","October","November","December");
    
    
    function getTodayDate(){
      var dateToday = monthArray[month] + " "
        + dateObject.getDate() + ", "
        + dateObject.getFullYear();
      document.forms[0].reservationDate.value = dateToday;
    } 
    
    // This is step 3 on page 326 (I am adding the parameter whichMonth here rather than later when the author tells you to do it.)
           function displayCalendar(whichMonth) {
               calendarWin = window.open("", "CalWindow", "status=no,resizable=yes,width=400,height=220,left=200,top=200");
               calendarWin.focus();
               calendarWin.document.write("<!DOCTYPE html PUBLIC '-\/\/W3C\/\/DTD XHTML 1.0 Strict\/\/EN' ");
               calendarWin.document.write("'http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-strict.dtd'>");
               calendarWin.document.write("<html xmlns='http:\/\/www.w3.org\/1999\/xhtml'>");
               calendarWin.document.write("<head><title>Coast City Windsurfing<\/title>");
               calendarWin.document.write("<meta http-equiv='content-type' content='text\/html;charset=iso-8859-1' \/>");
               calendarWin.document.write("<link rel='stylesheet' href='js_styles.css' type='text\/css' \/><\/head><body>");
               calendarWin.document.write("<table cellspacing='0' border='1' width='100%'>");
  // This ends step 3 on page 326 -- the closing brace goes at the end of the function  
  
  // This is step 4 on page 326          
               calendarWin.document.write("<colgroup span='7' width='50' \/>");
    //           calendarWin.document.write("<tr><td colspan='7' align='center'><strong>" + monthArray[month] + " " + dateObject.getFullYear() + "<\/strong><\/td></tr>");
            if (whichMonth == -1)
                dateObject.setMonth(dateObject.getMonth() - 1);
            else if (whichMonth == 1)
                dateObject.setMonth(dateObject.getMonth() + 1);
        
            var month = dateObject.getMonth();
            calendarWin.document.write("<tr><td colspan='2'> <a href= ' ' "
               + " onclick = 'self.opener.displayCalendar(-1); return false'>Previous</a></td>"
               + " <td colspan = '3' align = 'center'><strong>"
               + monthArray[month] + " " + dateObject.getFullYear() 
               + "</strong></td><td colspan = '2' align='right'>"
               + "<a href='' onclick='self.opener.displayCalendar(1); return false'>"
               + "Next</a></td></tr>");
                   calendarWin.document.write("<tr align='center'><td>Sun<\/td><td>Mon<\/td><td>Tue<\/td><td>Wed<\/td><td>Thu<\/td><td>Fri<\/td><td>Sat<\/td><\/tr>");
                   calendarWin.document.write("<tr align='center'>");
      // This ends step 4 on page 326
  
  // This is step 5 on page 327
               dateObject.setDate(1);
               var dayOfWeek = dateObject.getDay();
               for (var i=0; i<dayOfWeek; ++i) {
                  calendarWin.document.write("<td>&nbsp;<\/td>");
               }
  // This ends step 5 on page 327
  
  // This is step 6 on page 327
               var daysWithDates = 7 - dayOfWeek;
               var dateCounter = 1;
               for (var i=0; i<daysWithDates; ++i) {
                  var curDate = monthArray[month] + " " + dateCounter + ", " + dateObject.getFullYear();
                  calendarWin.document.write("<td><a href='' onclick='self.opener.document.forms[0].reservationDate.value=\"" + curDate + "\";self.close()'>" + dateCounter + "<\/a><\/td>");
                  ++dateCounter;
               }
  // This ends step 6 on page 327
              
               
  // This is step 7 on page 328             
               var numDays = 0;
               // January, March, May, July, August, October, December
               if (month == 0 || month == 2 || month == 4 || month == 6 || month == 7 || month == 9 || month == 11)
                  numDays = 31;
               // February
               if (month == 1)
                  numDays = 28;
               // April, June, September, November
               else if (month == 3 || month == 5 || month == 8 || month == 10)
                  numDays = 30;
  // This ends step 7 on page 328
  
  //This is step 8 on page 328
               for (var rowCounter = 0; rowCounter < 5; ++rowCounter) {
                  var weekDayCounter = 0;
                  calendarWin.document.write("<tr align='center'>");
  // This ends step 8 on page 328  -- the last line and closing brace are now below step 9.
  
  // This is step 9 on pages 328 - 329.  After the href looks like a double quote on the monitor, but it is 2 single quotes.                  
                  while (weekDayCounter < 7) {
                     var curDate = monthArray[month] + " " + dateCounter + ", " + dateObject.getFullYear();
                     if (dateCounter <= numDays)
                        calendarWin.document.write("<td><a href='' onclick='self.opener.document.forms[0].reservationDate.value=\"" + curDate + "\";self.close()'>" + dateCounter + "<\/a><\/td>");
                     else
                        calendarWin.document.write("<td>&nbsp;<\/td>");
                     ++weekDayCounter;
                     ++dateCounter;
                  }
  // This ends step 9 on pages 328 - 329
  
  // The next 2 lines of code was given in step 8 but is to be moved below the code in step 9                
                  calendarWin.document.write("<\/tr>");
              }
              
  // This is step 10 on page 329            
               calendarWin.document.write("<\/table><\/body><\/html>");
               calendarWin.document.close();
  // This ends step 10 on page 329
  
  // This closes the function which was originally given in step 3 on page 326
            }
            
    function calcGroupDiscount(groupSize) {
        var dailyRate = 49;
        if (groupSize >= 5 && groupSize <= 10)
            dailyRate = 49 * 0.9;
        else if (groupSize > 10 && groupSize < 25)
            dailyRate = 49 * 0.8;
        else if (groupSize > 24)
            dailyRate = 49 * 0.75; 
        var groupRate = groupSize * dailyRate;
        groupRate = Math.round(groupRate);
        document.forms[0].discount.value = groupRate.toLocaleString();
    }
    
    var contactList = new Object();
    /* ]]> */
    </script> 
    
    
</head>
<!-- this replaces the body tag -->
<body onload = "getTodayDate()"> 
    <div align="center">
        <div style="width: 778px; height: 780px;" align="left">
            <div style="width: 778px; height: 175px;">
                <div style="width: 298px; height: 175px; float: left;" class="header">
                    <div style="padding-top: 60px; padding-left: 30px;" class="logotxt">
                        WIND<span class="logotxt1">SURFING</span></div>
                    <div style="padding-top: 2px; padding-left: 50px;" class="logotxt2">
                        GEAR AND LESSONS</div>
                </div>
                <div style="width: 480px; height: 175px; float: right;" class="header1">
                    <div style="padding-left: 25px; padding-top: 35px;" class="head_txt">
                        COAST CITY WINDSURFING</div>
                    <div style="padding-left: 40px; padding-top: 2px; width: 300px;" class="head_txt1">
                        LET THE WIND DO THE WORK</div>
                </div>
            </div>
            <div style="width: 778px; height: 201px;">
                <div style="width: 480px; height: 201px; float: right" class="img">
                </div>
                <div style="width: 298px; height: 201px; float: left" class="menu">
                    <div>
                        <div style="float: left">
                            <div style="padding-left: 60px;" class="home">
                                home</div>
                            <div style="padding-top: 22px; padding-left: 60px;" class="home">
                                site map</div>
                            <div style="padding-top: 22px; padding-left: 60px;" class="home">
                                contacts</div>
                        </div>
                        <div style="float: right; width: 155px; height: 177px;">
                            <div style="padding-top: 30px; padding-left: 1px;" class="home1">
                                ABOUT US</div>
                            <div style="padding-top: 10px; padding-left: 1px;" class="home1">
                                GEAR</div>
                            <div style="padding-top: 12px; padding-left: 1px;" class="home1">
                                LESSONS</div>
                            <div style="padding-top: 10px; padding-left: 1px;" class="home1">
                                GROUP LESSONS</div>
                            <div style="padding-top: 10px; padding-left: 1px;" class="home1">
                                CONTACT US</div>
                        </div>
                        <div style="padding-right: 35px; float: right; width: 155px;" class="linktxt">
                            http://www.cswindsurfing.com</div>
                    </div>
                </div>
            </div>
            <div style="width: 778px; height: 499px; background-image: url('image/mid_img.jpg');"
                class="mid_img">
                <div style="padding-top: 50px; padding-left: 10px;" class="content">
                    <!--[Add code here]-->
      <form action="windProcessor.htm" method="get" enctype="application/x-www-form-urlencoded">
      
      <table border="0">
        <tr valign="top">
          <td>
            <h3>Windsurfing Date</h3>
            <p>
              <input type="text" name="reservationDate" onclick="displayCalendar()" />
                <a href="" onclick="displayCalendar(); return false">Select Date</a>
            </p>
            <h3>Group Leader</h3>
            Last name<br />
            <input type="text" name="leaderLastName" size="40" /><br />
            First name<br /> 
            <input type="text" name="leaderFirstName" size="40" /><br />
            Telephone<br />
            <input type="text" name="leaderTelephone" size="40" /><br />
            Address<br />
            <input type="text" name="leaderAddress" size="40" /><br />
            City, State, Zip<br />
            <input type="text" name="leaderCity" size="23" />
            <input type="text" name="leaderState" size="2" />
            <input type="text" name="leaderZip" size="5" />
<!---            <p><input type="submit" value="Submit Group Reservation" /></p> -->
            <h3>Groups Discounts</h3>
            <ul>
                <li>Daily rate: $49</li>
                <li>5-10 windsurfers: 10% discount</li>
                <li>11-24 windsurfers: 20% discount</li>
                <li>25+ windsurfers: 25% discount</li>
            </ul>
            <p>How many windsurfers are in your group?
            <input type="text" size="5" value="0"
            onchange="calcGroupDiscount(this.value)" /></p>
            </td>
<td>
    <h3>Group Members</h3>
                            <p><input type="button" value="Add Windsurfer" />
                            <input type="button" value="Delete Windsurfer" />
                            <input type="button" value="Update Info" /></p>
                            <table border="0">
                            <tr>
                                <td><select name="contacts" size="13"
                                    style="width: 150px">
                                    <option value="contacts">Group Members</option>
                                </select></td>
                                <td>Last name<br />
                                    <input type="text" name="lastname" size="50" /><br />
                                    First name<br />
                                    <input type="text" name="firstname" size="50" /><br />
                                    Telephone<br />
                                    <input type="text" name="telephone" size="50" /><br />
                                    Address<br />
                                    <input type="text" name="address" size="50" /><br />
                                    City, State, Zip<br />
                                    <input type="text" name="city" size="34" />
                                    <input type="text" name="state" size="2" maxlength="2" />
                                    <input type="text" name="zip" size="5" maxlength="5" />
                                </td>
                            </tr>
                            </table>
                            
                          <p>Your group rate is $<input type="text"
                                name="discount" size="60" value="0"
                                readonly="readonly"
                                class="total" /></p>
                          </td>
                        </tr>
                    </table>
                      <!--the close form is to be added after the last form element -->
                    </form>
                </div>
            </div>
            <div class="footer">
                <div style="padding-left: 20px; padding-top: 35px;" class="copy">
                    Copyright &copy; 2010. Coast City Windsurfing. All rights reserved
                </div>
            </div>
        </div>
        <!-- external javascript for validation -->  
        <script type="text/javascript" src="../validation.js">
        </script>   
    </div>
</body>
</html>
